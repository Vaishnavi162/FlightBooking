@model FlightBooking.Models.UserRegister

@{
    ViewBag.Title = "User Registration";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">
    <h2 class="text-primary">User Registration</h2>
    <hr />

    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-group mb-3">
            <label>Username</label>
            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", required = "required" })
        </div>

        <div class="form-group mb-3">
            <label>Email</label>
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
        </div>

        <div class="form-group mb-3">
            <label>Password</label>
            @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "required" })
        </div>



        <div class="form-group mb-3">
            <label>Gender</label><br />
            @Html.RadioButtonFor(m => m.Gender, "Male") Male
            @Html.RadioButtonFor(m => m.Gender, "Female") Female
        </div>

        <div class="form-group mb-3">
            <label>Mobile</label>
            @Html.TextBoxFor(m => m.Mobile, new { @class = "form-control", required = "required" })
        </div>

        <div class="form-group mb-3">
            <label>State</label>
            @Html.TextBoxFor(m => m.State, new { @class = "form-control" })
        </div>

        <div class="form-group mb-3">
            <label>City</label>
            @Html.TextBoxFor(m => m.City, new { @class = "form-control" })
        </div>

        <!-- ✅ Profile Picture Upload -->
        <div class="form-group mb-3">
            <label>Profile Picture</label>
            <input type="file" name="ProfilePicture" id="ProfilePicture" class="form-control" accept="image/*" onchange="previewImage(event)" />
        </div>

        <!-- ✅ Image Preview -->
        <div class="mb-3">
            <img id="preview" src="~/Content/Images/default-user.png" alt="Profile Preview" width="120" height="120" class="rounded-circle border" />
        </div>

        <button type="submit" class="btn btn-success">Register</button>
    }
</div>

<script>
    // ✅ Preview uploaded image before submit
    function previewImage(event) {
        var output = document.getElementById('preview');
        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function () {
            URL.revokeObjectURL(output.src) // memory free
        }
    }
</script>
